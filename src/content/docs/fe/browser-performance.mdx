---
layout: ../../../layouts/BlogPost.astro
title: ë¸Œë¼ìš°ì €ì˜ ìµœì í™”
---
import { Image } from "astro:assets";
import before1 from "../../../assets/images/project-optimization/before1.png";
import metrics from "../../../assets/images/project-optimization/metrics.png";
import cls1 from "../../../assets/images/project-optimization/cls1.png";
import cls2 from "../../../assets/images/project-optimization/cls2.png";
import cls3 from "../../../assets/images/project-optimization/cls3.png";
import chunk1 from "../../../assets/images/project-optimization/chunk1.png";
import chunk2 from "../../../assets/images/project-optimization/chunk2.png";
import analyze3 from "../../../assets/images/project-optimization/analyze3.png";

### ë¸Œë¼ìš°ì €ì˜ ì„±ëŠ¥ì„ í™•ì¸í•´ë³´ê³ ì‹¶ë‹¤.

[ê¼¬ìˆœë‚´](https://www.kkosunnae.com/)ë¼ëŠ” ì‚¬ì´íŠ¸ë¥¼ ê°œë°œí•˜ë©´ì„œ ê°œë°œì€ ëŒ€ë¶€ë¶„ ë§ˆì³¤ì§€ë§Œ ì‚¬ì´íŠ¸ë¥¼ ìµœì í™” í•˜ê¸° ìœ„í•´ ë¶„ì„í•˜ëŠ” ê³¼ì •ì„ ë³´ì—¬ì£¼ë ¤ê³  í•œë‹¤.

1. [ë©”ì¸ í˜ì´ì§€ https://www.kkosunnae.com/](https://www.kkosunnae.com/)

<Image
  src={before1}
  alt="ìµœì í™” ì „"
  widths={[500, 1000]}
  sizes="(max-width: 640px) 100vw, 500px"
  formats={["avif", "webp", "png"]}
  quality={80}
  loading="lazy"
  decoding="async"
/>

ì´ ìŠ¤í¬ë¦°ìƒ·ì—ì„œ ë³´ì•„ì•¼ í•  ì ì€ performanceë‹¤.    
`The page loaded too slowly to finish within the time limit. Results may be incomplete.`

<Image
  src={metrics}
  alt="metrics"
  widths={[500, 1000]}
  sizes="(max-width: 640px) 100vw, 500px"
  formats={["avif", "webp", "png"]}
  quality={80}
  loading="lazy"
  decoding="async"
/>
metricsë¥¼ ë³´ë©´ ì›ì¸ì€ ë‘ê°€ì§€ë¡œ ì¶”ë¦´ ìˆ˜ ìˆë‹¤.     
1. Largest Contentful Paint
2. Cumulative Layout Shift
ë” ì‹¬í•´ë³´ì´ëŠ” Cumulative Layout Shiftë¶€í„° ì‚´í´ë³´ì. 

### Cumulative Layout Shift

ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë ¤ê³  í•˜ëŠ”ë° ê°‘ìê¸° ì´ë¯¸ì§€ê°€ ë¡œë”©ë˜ë©´ì„œ ë²„íŠ¼ì´ ì•„ë˜ë¡œ ë°€ë ¤ë‚˜ì„œ ì—‰ëš±í•œ ê±¸ ëˆ„ë¥´ê²Œ ë˜ëŠ” ê²½í—˜    
CLS(Cumulative Layout Shift)

ìƒˆë¡œê³ ì¹¨ì„ í•˜ë‹¤ë³´ë‹ˆ ë°ì´í„°ê°€ ìƒê¸°ê¸°ì „ì— ë¡œë”©ì´ ëŒë‹¤ê°€ ë°ì´í„°ê°€ ìƒê¸°ë©´ì„œ ì‚¬ì§„ì´ ì¶”ê°€ë˜ê³      
í™”ë©´ì´ íˆ­ í•˜ê³  ë‚´ë ¤ê°€ëŠ” í˜„ìƒì´ ë°œìƒí•˜ëŠ” ê²ƒ ê°™ë‹¤. 
ë”°ë¼ì„œ skeleton ë°©ì‹ìœ¼ë¡œ ì´ë¥¼ í•´ê²°í•˜ê³ ì í•˜ì˜€ë‹¤. 

<Image
  src={cls1}
  alt="cls1"
  widths={[500, 1000]}
  sizes="(max-width: 640px) 100vw, 500px"
  formats={["avif", "webp", "png"]}
  quality={80}
  loading="lazy"
  decoding="async"
/>
<Image
  src={cls2}
  alt="cls2"
  widths={[500, 1000]}
  sizes="(max-width: 640px) 100vw, 500px"
  formats={["avif", "webp", "png"]}
  quality={80}
  loading="lazy"
  decoding="async"
/>
<Image
  src={cls3}
  alt="cls3"
  widths={[500, 1000]}
  sizes="(max-width: 640px) 100vw, 500px"
  formats={["avif", "webp", "png"]}
  quality={80}
  loading="lazy"
  decoding="async"
/>

ì£¼ìš” í™”ë©´ì€ ì´ 3ê°œì˜€ë‹¤. 
listë¥¼ ë³´ì—¬ì£¼ëŠ” í™”ë©´ ëª¨ë‘ì—ê²Œ skeleton ë°©ì‹ì„ ì‚¬ìš©í•˜ì˜€ë‹¤. 
ì¶”ê°€ë¡œ ì¸ê¸° ìœ íŠœë¸Œ top3ë¥¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ë„ ë§ˆì°¬ê°€ì§€ë¡œ ì ìš©í•˜ì˜€ë‹¤. 

### Largest Contentful Paint

1. ì²˜ìŒ ë¡œë“œí• ë•Œ ë§ì€ ì‚¬ì§„ì´ ë‚˜íƒ€ë‚˜ëŠ”ë° ê·¸ë•Œ fetchpriorityë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•„ì„œ ëŠ¦ê²Œ ë¡œë“œëœë‹¤ëŠ” ë¬¸ì œì˜€ë‹¤.    
    -> fetchpriorityëŠ” ë©”ì¸ì— ë“¤ì–´ê°€ëŠ” ì‚¬ì§„ë“¤ì— fetchpriorityë¥¼ ì ìš©ì‹œì¼°ë‹¤.     
2. í°íŠ¸ê°€ ëŠ¦ê²Œ ì ìš©ë˜ì–´ í°íŠ¸ê°€ ì ìš©ë˜ê¸°ì „ê¹Œì§€ ë§‰íˆëŠ” ìš”ì²­ë“¤ì´ ìƒê²¨ì„œ ë‹¤ë¥¸ ìš”ì²­ë“¤ë„ ë¯¸ë¤„ì§„ë‹¤ëŠ” ì§„ë‹¨ì„ ë°›ì•˜ë‹¤.    
    -> nextì˜ localFontë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœì í™”ë¥¼ ì§„í–‰í–ˆë‹¤.
    (ê´€ë ¨ ë¬¸ì„œ)[https://nextjs.org/docs/app/getting-started/fonts]


### Chunk js file

<Image
  src={chunk1}
  alt="chunk1"
  widths={[500, 1000]}
  sizes="(max-width: 640px) 100vw, 500px"
  formats={["avif", "webp", "png"]}
  quality={80}
  loading="lazy"
  decoding="async"
/>

ê·¸ë¦¼ì—ì„œ ë³´ë©´ kkosunnaeê°€ ì²˜ìŒì— ë¡œë“œë˜ë©´ì„œ ëª¨ë“  js ëª¨ë“ˆì„ import í•˜ê³  ë‹¤ìš´ì€ í•˜ê³  ìˆì§€ë§Œ ì „í˜€ ì“°ì´ê³  ìˆì§€ ì•Šì€ íŒŒì¼ë„ ì¡´ì¬í•œë‹¤.    
ì˜ˆìƒí•˜ê¸°ë¡œëŠ” Tiptapì´ë‚˜ Lottieì˜ ëŒ€í˜• íŒŒì¼ì´ í•„ìš”ì—†ëŠ” ì‹œì ì— ë¡œë“œë˜ì–´ì„œ í•´ë‹¹ ë¬¸ì œê°€ ë°œìƒí•œë‹¤ê³  ì˜ˆìƒí–ˆë‹¤. 

ì •í™•í•œ ì§„ë‹¨ì„ ìœ„í•´ 
`@next/bundle-analyzer`ë¥¼ ì„¤ì¹˜í–ˆê³  

ì‚¬ìš© ì¤‘ì¸ Next.js 16 ë²„ì „ì€ ê¸°ë³¸ì ìœ¼ë¡œ Turbopackì„ ì‚¬ìš©í•´ì„œ ë¹Œë“œí•˜ëŠ”ë°    
bundle-analyzerëŠ” ì•„ì§ Webpack ì—”ì§„í•˜ê³ ë§Œ í˜¸í™˜ë˜ì–´ì„œ    
`ANALYZE=true npm run build` ì´ ëª…ë ¹ì–´ë¡œë§Œìœ¼ë¡œëŠ” ì‹¤í–‰ì´ ë˜ì§€ ì•Šì•˜ë‹¤. 

`ANALYZE=true npm run build -- --webpack` ì´ë ‡ê²Œ í•˜ë‹ˆê¹Œ
<Image
  src={analyze3}
  alt="analyze3"
  widths={[500, 1000]}
  sizes="(max-width: 640px) 100vw, 500px"
  formats={["avif", "webp", "png"]}
  quality={80}
  loading="lazy"
  decoding="async"
/>
`.next/analyze/client.html`

ì´ í™”ë©´ì´ ë‚˜ì™”ê³  ì´ í™”ë©´ì„ í†µí•´ ì›ì¸ì„ ë¶„ì„í•  ìˆ˜ ìˆë‹¤.   
ë¨¼ì € ì œì¼ í°ê²ƒì€ lottieì˜€ë‹¤. 

ë©”ì¸ í™”ë©´ì„ ë³´ë©´ ì•Œê² ì§€ë§Œ ê°•ì•„ì§€ê°€ í™”ë©´ì¤‘ì•™ì„ ê±¸ì–´ë‹¤ë‹ˆê³  ìˆë‹¤.   
í•˜ì§€ë§Œ ì´ë¶€ë¶„ì„ í¬ê¸°í•  ìˆ˜ ì—†ë‹¤.    
ë„ˆë¬´ ê·€ì—½ê¸° ë•Œë¬¸ì´ë‹¤.   

ê·¸ë˜ì„œ ìƒê°í•œ ë°©ë²•ì´ next/dynamicë¥¼ ì‚¬ìš©í•´ì„œ í™”ë©´ì— ë³´ì¼ë•Œë§Œ ë¡œë“œë˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. 

### next/dynamic

React.lazy()ì™€ Suspenseë¥¼ í•©ì³ë†“ì€ Next.jsì˜ ê¸°ëŠ¥ì´ë‹¤.

```javascript
import dynamic from 'next/dynamic'
 
// '../components/header'ë¥¼ ë‚˜ì¤‘ì—(Lazy) ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
// ë¶ˆëŸ¬ì˜¤ëŠ” ë™ì•ˆì—ëŠ” 'Loading...' ë¬¸êµ¬ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
const DynamicHeader = dynamic(() => import('../components/header'), {
  loading: () => <p>Loading...</p>,
})
 
export default function Home() {
  return <DynamicHeader />
}
```

ìœ„ì˜ ë°©ì‹ìœ¼ë¡œ lottieë¥¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ì— dynamicsë¥¼ ì ìš©í•˜ì˜€ë‹¤. 

lottieë§Œ ë°”ê¿”ì¤¬ëŠ”ë° 
<Image
  src={chunk2}
  alt="chunk2"
  widths={[500, 1000]}
  sizes="(max-width: 640px) 100vw, 500px"
  formats={["avif", "webp", "png"]}
  quality={80}
  loading="lazy"
  decoding="async"
/>
ë§ì´ ì¤„ì€ê²Œ ë³´ì˜€ë‹¤. 

Lottieë¥¼ ì œì™¸í•˜ê³  tiptapì„ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ë“¤ì„ dynamicë¡œ ë°”ê¿¨ë”ë‹ˆ í•´ë‹¹ ê²½ê³ ê°€ ì‚¬ë¼ì¡Œë‹¤.ğŸ‘ğŸ»

